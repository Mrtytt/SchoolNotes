### Thread - iş parçacığı - iplik
    mevcutta çalışan bir processin iş parçacıklarıdır
    tüm processlerin threadleri bir çizelgede tutulur ve bunlar zaman paylaşımlı çalıştırlır
    threadler async yada sync çalışabilir
    programcı thredlerin kesiksiz çalıştınığını sanabilir fakat parçalı olarak çaltırlmaktadır
    threadlerde user ve kernel thread olarak ikiye ayrılır

    thread mantığı compilera ve developera bırakılmıştır
    kodlanmazsa tek bir büyük thread gibi çalışır

    # stateler
        new                 yeni oluşmuş threadler
                            yine processlerde olduğu gibi hız için hazır boşta bekletilir
                            threadler yine processlere link edilir
        ready / runnable    çalışmaya hazır , bazen çalışmıyorda olabilir
        blocked / waiting   duraklatılabilir, bir event bekleyebilir, interrupt yiyebilir
        %%SORU%%
        terminated          çoğunlukla bir process kapatıldığında threadleri de sonlandırılır fakat bazende eğer başka bir process ile ilişki kurulursa threadler çalışmaya devam edebilir

    %%TODO: add picture%%
    
    kendin ait program counter, bir gurup register, stack e sahiptir
    threadler progam kodunu data kısmını dosyalar gibi işletim sistemi kaynaklarını ortak kullanır             
    process ile thread arasında parent child ilişkisi var denilebilir
    klasik processler tek threade sahiptir
    eğer bir process birden fazla thread e sahipse birden fazla görevi eşzamanlı yapabilir
    günümüzde çalışan programlarının bir çoğu multi-thread çalışır

    Word multi threade örnek verilebilir
        bir thread yazmak için
        bir thread spell çek için 

    işletim sisteminin kernelları multi-threaded yapıdadır cihaz yöneimi hafıza yönetimi veya interrupt işlemleri aynı anda yapılabilir

    # faydaları
        1 Cevaplanabilirlik (Responsiveness) mesela biri tezgaha bakar biri kasaya biri bulaşığa
        2 Kaynak Paylaşımı (Resource sharing) processler kaynaklarını ana processteki data yada fileları paylaşabilir , aralarıdna shared memory yada message passing yapabilirler
        3 Ekonomi (Economy) Bir process oluşturulurken hafıza ve kaynak tahsis edilmesi maliyeti yüksek bir iştir ; processin kaynaklarını paylaştıkları için context switch daha düşük maliyete yapılır (solaris işletim sisteminde thread oluşturma 30 kat daha hızlı ve threadlerde context switch 5 kat daha hızlıdır)
        4 Ölçeklenebilirlik (Scalability) Çok işlemcili mimarilerde threadler farklı corelar üzerinde eşzamanlı çalışabilir ancak thek thread yapısına sahip processler sadece bir işlemci üzerinde çalışabilir

## multi-core programlama
    işletim sistemi için her çekirdeği ayrı bir işletim sistemi olarak görür
    her core a bir thread atanarak paralele işlemlerin yapılması sağlanır
    Paralelism birden fazla görevin eş zamanlı yapılması
    Eş zamanlılık concurency birden fazla thread arasında kısa aralıklarla geçiş yapılması

    core sayısının artması, core frekansının 2 katına çıkarılması, işlem yapma hızı artırır denebilir fakat 2 katına çıkarır gibi yorum yapılamaz 

    sisteme verilen seri işlemlerin sayısı artarsa hız yavaşlar
    sisteme verilen paralel işlemlerin sayısı artarsa hız hızlanır
    
    %%SORU%%
    **Andal Kuralı** 
        speedup <= 1/(S + (1-S)/N)
        S = seri işlem yüzdesi , N core sayısı
        core sayısıyla paralel bi ilişki olmadığı için bu formül gerekmiştir

    işletim sistemi tasarımcıları multicore ssistemlerin performansını arttırmak için scheduling algoritmalarını yazmalıdırlar
    
    uygulama geliştiricilerinde mevcut programlarını değiştirmeleri multi-threaded tasarlaması gerekir

    %%TODO: thread kullanarak binary search%%
    # multi-core zorlukları
        **identifying tasks** görev tanımlaması işi kaç threade böleceğiz
        **balance** iş yüklerinin eşit dağıtılması
        **data splitting**  verilerin nasıl bölüneceği
        **data dependency** bir threadin erişeceği verinin diğer görevlerle bağımlılıklarının incelenmesi gerekir aynı dosyada çalışma örnek berilebilir
        **testing and debugging** multi-threaded çalışan programlırn test ve debug işlemleri daha zordurlar

#### paralel çalıştırma türleri
    # Data Paralelism
        aynı veri kümesine ait alt parçaların dağıtılmasıyla
    # Task Paralelism
        data ortak oladabilir olmayadabilir
        aynı veri üzerinde aritmetik ortalama alan ve geometrik ortalama alan 2 threadin olması örnek verilebilir

#### threadler arasında iletişim
    # Sinyal Mekanizması
        bir veya birden fazla olayın gerkçeştiğini asenkron olarak haber vermesini sağlamak için geliştirilmiştir
        işlemlerin birbirine mesaj gönderebilmesi için aynı processe bağlı olması gerekir yada aynı sinyal gurubunda olmalıdırlar
        ilgili işlemin sinyali algılaması için çalışma durumunda olması gerekir
        %%TODO: fix%%
        bir sinyalin oluşması için sinyal ...
        %%dispather%%
    # Pipe 'boru'
        İşlemler arası bir yönlendirme denilebilir, **re-direction** sağlar
        Bir işlem için çıktı öbür işlem için girdi olarak kullanıyorsa olur 
        tek yönlüdür
        Aynı parente ait işlemlerde olur
        Ebevyen pipe() sistem çağrısıyla pipe line'yi başlatır sonra fork() ile kendi kopyasını oluşturur (child oluşturur)
        Tek yönlü bir iletişim vardır yani Parent child'a sinyal gönderebilirken child parente gönderemez